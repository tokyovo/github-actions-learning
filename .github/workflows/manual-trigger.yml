name: Manual Trigger Demo
run-name: Manual run by ${{ github.actor }} - ${{ inputs.environment }}

on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'Deployment environment'
        required: true
        default: 'development'
        type: choice
        options:
          - development
          - staging
          - production

      message:
        description: 'Custom message'
        required: false
        default: 'Running manual workflow'
        type: string

      enable_debug:
        description: 'Enable debug logging'
        required: false
        default: false
        type: boolean

jobs:
  manual-job:
    name: Manual Trigger Job
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Display input parameters
        run: |
          echo "ğŸ¯ Environment: ${{ inputs.environment }}"
          echo "ğŸ’¬ Message: ${{ inputs.message }}"
          echo "ğŸ› Debug Mode: ${{ inputs.enable_debug }}"
          echo "ğŸ‘¤ Triggered by: ${{ github.actor }}"
          echo "â° Time: $(date)"

      - name: Environment-specific action
        run: |
          case "${{ inputs.environment }}" in
            development)
              echo "ğŸ”§ Running in DEVELOPMENT mode"
              echo "Installing dev dependencies..."
              ;;
            staging)
              echo "ğŸª Running in STAGING mode"
              echo "Running integration tests..."
              ;;
            production)
              echo "ğŸš€ Running in PRODUCTION mode"
              echo "Deploying to production servers..."
              ;;
          esac

      - name: Debug information
        if: inputs.enable_debug == true
        run: |
          echo "=== DEBUG MODE ENABLED ==="
          echo "Repository: ${{ github.repository }}"
          echo "Ref: ${{ github.ref }}"
          echo "SHA: ${{ github.sha }}"
          echo "Workflow: ${{ github.workflow }}"
          echo "Run ID: ${{ github.run_id }}"
          echo "Run Number: ${{ github.run_number }}"
          echo "==========================="